(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3162cfaf"],{"7c67":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("1da1"),r=n("d4ec"),i=n("bee2"),s=(n("96cf"),n("c030")),u=n("8659"),p=function(){function e(t,n,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u;Object(r["a"])(this,e),this.provider=t;var p=t.getSigner(n).connectUnchecked();this.contract=new s["a"].Contract(a,i,p),console.log("pool log contract:",a)}return Object(i["a"])(e,[{key:"minerRebateInfo",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.contract.minerRebateInfo(t,n,a,r));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n,a,r){return e.apply(this,arguments)}return t}()},{key:"getSellRecord",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.contract.getSellRecord(t,n,a));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"getUserTransferRecord",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.contract.getUserTransferRecord(t,n,a,r));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n,a,r){return e.apply(this,arguments)}return t}()},{key:"getTransferRecordValues",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.contract.getTransferRecordValues(t,n));case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}()},8659:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousDev","type":"address"},{"indexed":true,"internalType":"address","name":"newDev","type":"address"}],"name":"DevTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"address","name":"newDev","type":"address"}],"name":"addDev","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"toAmount","type":"uint256"},{"internalType":"uint256","name":"feeRate","type":"uint256"}],"name":"addTransferLog","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"devs","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"}],"name":"getSellRecord","outputs":[{"internalType":"address[]","name":"accounts","type":"address[]"},{"internalType":"uint256[]","name":"bzAmounts","type":"uint256[]"},{"internalType":"uint256[]","name":"usdtAmounts","type":"uint256[]"},{"internalType":"uint256[]","name":"bzPrices","type":"uint256[]"},{"internalType":"uint256[]","name":"feeRates","type":"uint256[]"},{"internalType":"uint256[]","name":"timestamps","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"getSellRecordValues","outputs":[{"internalType":"uint256","name":"count","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"tType","type":"uint256"}],"name":"getTransferRecordValues","outputs":[{"internalType":"uint256","name":"count","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tType","type":"uint256"},{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"end","type":"uint256"}],"name":"getUserTransferRecord","outputs":[{"internalType":"uint256[]","name":"tTypes","type":"uint256[]"},{"internalType":"address[]","name":"froms","type":"address[]"},{"internalType":"address[]","name":"tos","type":"address[]"},{"internalType":"uint256[]","name":"amounts","type":"uint256[]"},{"internalType":"uint256[]","name":"feeRates","type":"uint256[]"},{"internalType":"uint256[]","name":"timestamps","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"dev","type":"address"}],"name":"isDev","outputs":[{"internalType":"bool","name":"","type":"bool"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"skip","type":"uint256"},{"internalType":"uint256","name":"num","type":"uint256"}],"name":"minerRebateInfo","outputs":[{"components":[{"internalType":"address","name":"rebateUser","type":"address"},{"internalType":"uint256","name":"rebateTime","type":"uint256"},{"internalType":"uint256","name":"rebateAmount","type":"uint256"},{"internalType":"uint256","name":"level","type":"uint256"},{"internalType":"uint256","name":"rebateRate","type":"uint256"}],"internalType":"struct BzPoolLog.RebateInfo[]","name":"logs","type":"tuple[]"},{"internalType":"uint256","name":"count","type":"uint256"},{"internalType":"uint256","name":"total","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"i","type":"uint256"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"commission","type":"uint256"},{"internalType":"address","name":"referee","type":"address"},{"internalType":"uint256","name":"rebateRate","type":"uint256"}],"name":"rebateRecord","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"rmAllDevs","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"oldDev","type":"address"}],"name":"rmDev","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"bzAmount","type":"uint256"},{"internalType":"uint256","name":"usdtAmount","type":"uint256"},{"internalType":"uint256","name":"bzPrice","type":"uint256"},{"internalType":"uint256","name":"feeRate","type":"uint256"}],"name":"sellLog","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token_","type":"address"},{"internalType":"address","name":"addr_","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},c396:function(e,t,n){"use strict";n.r(t);var a=n("1da1"),r=(n("96cf"),n("99af"),n("7a23")),i=n("2704"),s=n.n(i),u=n("ff97"),p=n.n(u),c=n("6be8"),o=n("bae1"),l=n("3de1"),d=n("0437"),y=n("7c67"),m={class:"container max-w-26rem px-15px mx-auto pb-2rem record"},b={class:"relative flex items-center justify-center mt-0.5rem mb-1rem"},f=Object(r["j"])("img",{class:"w-1.2rem",src:s.a,alt:""},null,-1),T={class:"text-primaryColor pr-0.5rem"},j={class:"font-bold text-0.9rem"},v={class:"flex justify-between items-center"},O={class:"flex items-center"},w={class:"whitespace-nowrap font-bold text-primaryColor text-right"},h=Object(r["j"])("img",{class:"w-18px h-18px min-w-18px mx-8px",src:p.a,alt:""},null,-1),g={class:"whitespace-nowrap font-bold text-primaryColor"},x={class:"whitespace-nowrap font-bold text-12px text-left"},R={class:"flex justify-between items-center text-white/50"},M=["data-clipboard-text"],k={class:"text-white/70 text-12px text-right"},A={props:["rebateType"],setup:function(e){var t=Object(r["p"])("chainInfo"),n=Object(d["a"])(),i=n.poolContract,s=n.getPoolContract,u=Object(r["H"])(null),p=Object(r["G"])({loading:!1,finished:!1,pageSize:40,skip:0,accounts:[],usdtAmounts:[],bzAmounts:[],bzPrices:[],timestamps:[]}),A=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!p.finished&&!p.loading&&u.value){e.next=3;break}return e.abrupt("return");case 3:return p.loading=!0,console.log("load..."),e.next=7,u.value.getSellRecord(t.account,p.skip,p.pageSize);case 7:n=e.sent,0===p.skip&&(p.accounts=[],p.usdtAmounts=[],p.bzAmounts=[],p.bzPrices=[],p.timestamps=[]),p.loading=!1,p.finished=n.accounts.length<p.pageSize,p.accounts=p.accounts.concat(n.accounts),p.usdtAmounts=p.usdtAmounts.concat(n.usdtAmounts),p.bzAmounts=p.bzAmounts.concat(n.bzAmounts),p.bzPrices=p.bzPrices.concat(n.bzPrices),p.timestamps=p.timestamps.concat(n.timestamps),p.skip=p.accounts.length,e.next=24;break;case 19:e.prev=19,e.t0=e["catch"](0),console.log(e.t0),p.finished=!0,p.loading=!1;case 24:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:return e.next=4,i.value.log();case 4:return n=e.sent,u.value=new y["a"](t.provider,t.account,n),e.next=8,A();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r["P"])([function(){return t.isActive},function(){return t.isLogin}],(function(){t.isActive&&t.isLogin&&z()}),{immediate:!0}),function(e,t){var n=Object(r["J"])("van-list");return Object(r["C"])(),Object(r["i"])("div",m,[Object(r["l"])(n,{loading:Object(r["M"])(p).loading,finished:Object(r["M"])(p).finished,"immediate-check":!1,"finished-text":e.$t("noMore"),onLoad:A},{default:Object(r["R"])((function(){return[Object(r["j"])("div",b,[Object(r["j"])("button",{class:"absolute left-0 flex items-center h-2rem -ml-0.5rem",onClick:t[0]||(t[0]=function(t){return e.$router.back()})},[f,Object(r["j"])("span",T,Object(r["L"])(e.$t("back")),1)]),Object(r["j"])("span",j,Object(r["L"])(e.$t("miningView.sellRecord")),1)]),(Object(r["C"])(!0),Object(r["i"])(r["a"],null,Object(r["I"])(Object(r["M"])(p).accounts,(function(n,a){return Object(r["C"])(),Object(r["i"])("div",{class:"py-0.5rem border-b-1 border-white/20 px-10px",key:a},[Object(r["j"])("div",v,[Object(r["j"])("div",O,[Object(r["j"])("span",w,Object(r["L"])(Object(r["M"])(c["a"])(Object(r["M"])(c["c"])(Object(r["M"])(p).bzAmounts[a],Object(r["M"])(o["b"]).USDTDecimals)))+" BZ ",1),h,Object(r["j"])("span",g,Object(r["L"])(Object(r["M"])(c["a"])(Object(r["M"])(c["c"])(Object(r["M"])(p).usdtAmounts[a],Object(r["M"])(o["b"]).USDTDecimals)))+" USDT ",1)]),Object(r["j"])("span",x," 1BZ = "+Object(r["L"])(Object(r["M"])(c["a"])(Object(r["M"])(p).bzPrices[a]/1e3,3))+" U ",1)]),Object(r["j"])("div",R,[Object(r["j"])("span",{class:"copy-address text-white/70","data-clipboard-text":n["rebateUser"],onClick:t[1]||(t[1]=function(t){return Object(r["M"])(l["b"])(".copy-address",e.$t("copySuccess"))})},Object(r["L"])(Object(r["M"])(c["b"])(n)),9,M),Object(r["j"])("span",k,Object(r["L"])(Object(r["M"])(c["d"])(1e3*Object(r["M"])(p).timestamps[a])),1)])])})),128))]})),_:1},8,["loading","finished","finished-text"])])}}};const z=A;t["default"]=z},ff97:function(e,t,n){e.exports=n.p+"img/icon-arrow-circle.b30e4387.svg"}}]);